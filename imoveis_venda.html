<!DOCTYPE html>
<html class="light" lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Comprar Imóveis em Palhoça, SC | Curtindo SC</title>
<meta name="description" content="Confira as melhores opções de casas, lotes e terrenos à venda nas praias de Palhoça.">
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,0" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script> 
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#1BAEBD", 
            "background-light": "#f6f7f8", 
            "background-dark": "#101922", 
            "secondary": "#003366", 
            "accent": "#FF7F50", 
            "sand": { DEFAULT: "#f5f3f0", dark: "#e8e0d5" }
          },
          fontFamily: {
            "display": ["Work Sans"],
            "body": ["Lato", "sans-serif"]
          },
          borderRadius: {"DEFAULT": "0.5rem", "lg": "0.75rem", "xl": "1rem", "full": "9999px"},
        },
      },
    }
</script>
<style>
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
    .logo-img { height: 40px; width: auto; border-radius: 9999px; object-fit: cover; }
    .modal { display: none; position: fixed; inset: 0; background-color: rgba(0, 0, 0, 0.75); z-index: 50; align-items: center; justify-content: center; padding: 1rem; }
    .modal.show { display: flex; }
    .modal-content { max-height: 95vh; overflow-y: auto; }
    .flatpickr-calendar { z-index: 9999; }
    
    /* ESTILOS DA GALERIA */
    .gallery-thumbnail { 
        height: 80px; width: 80px; object-fit: cover; cursor: pointer; 
        border: 2px solid transparent; transition: all 0.2s; flex-shrink: 0; 
    }
    .gallery-thumbnail:hover { opacity: 0.8; }
    .gallery-thumbnail.active { border-color: #1BAEBD; opacity: 1; transform: scale(1.05); }
    
    .main-media-container { 
        position: relative; width: 100%; height: 400px; background-color: #000;
        display: flex; align-items: center; justify-content: center; overflow: hidden;
    }
    .main-media-container img, .main-media-container iframe { 
        width: 100%; height: 100%; object-fit: contain; 
    }
</style>
</head>
<body class="font-body bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
<div class="layout-container flex h-full grow flex-col">

<header class="sticky top-0 z-50 w-full bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex items-center justify-between whitespace-nowrap h-16">
<div class="flex items-center gap-4 text-gray-800 dark:text-gray-100">
    <img src="https://media.bio.site/sites/15fc0509-6c95-4782-9a79-fe69fe78ce69/ynmDRuF5gGpEBfxkyNUumk.png" alt="Logo Curtindo SC" class="logo-img">
</div>
<div class="hidden md:flex flex-1 justify-end gap-8">
<div class="flex items-center gap-9">
    <a class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm font-medium leading-normal transition-colors" href="index.html">Início</a>
    <a class="text-primary dark:text-primary font-bold text-sm leading-normal transition-colors" href="imoveis_venda.html">Comprar</a>
    <a class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm font-medium leading-normal transition-colors" href="imoveis_aluguel.html">Alugar</a>
    <a class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm font-medium leading-normal transition-colors" href="sobre_nos.html">Sobre Nós</a>
    <a class="text-gray-600 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm font-medium leading-normal transition-colors" href="contato.html">Contato</a>
</div>
<a class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors" href="https://wa.me/5548999998888" target="_blank">
<span class="truncate">Fale Conosco</span>
</a>
</div>
<button class="md:hidden text-gray-800 dark:text-gray-100">
<span class="material-symbols-outlined text-2xl">menu</span>
</button>
</div>
</div>
</header>

<main class="w-full">
<section class="relative h-[50vh] min-h-[400px] w-full">
<div class="absolute inset-0 bg-secondary/60 z-10"></div>
<img alt="Casa a Venda Palhoça" class="h-full w-full object-cover" src="https://static.ndmais.com.br/2023/12/palhoca-foto-aerea.jpg"/>
<div class="absolute inset-0 z-20 flex flex-col items-center justify-center text-center text-white p-4">
<h1 class="text-4xl md:text-6xl font-display font-bold tracking-tight leading-tight drop-shadow-lg">Invista no seu Sonho</h1>
<p class="mt-4 max-w-2xl text-lg md:text-xl text-gray-200 drop-shadow-md">Casas, terrenos e lotes nas melhores praias de Palhoça.</p>
</div>
</section>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
<div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
<p class="text-xl font-bold text-gray-900 dark:text-white">Imóveis Disponíveis para Venda</p>
<div class="relative w-full sm:w-48">
<select class="w-full appearance-none bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 py-2 pl-3 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white dark:focus:bg-gray-800 focus:border-primary dark:focus:border-primary-dark focus:ring-1 focus:ring-primary/50 dark:focus:ring-primary-dark/50 text-sm">
<option>Mais Relevantes</option>
<option>Menor Preço</option>
<option>Maior Preço</option>
<option>Mais Recentes</option>
</select>
<div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
<span class="material-symbols-outlined text-lg"> expand_more </span>
</div>
</div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="properties-grid">
</div>
<div class="flex justify-center mt-12">
<button class="py-3 px-6 bg-primary/10 dark:bg-secondary/20 text-primary dark:text-secondary font-bold rounded-lg hover:bg-primary/20 dark:hover:bg-secondary/30 transition-colors">Carregar mais imóveis</button>
</div>
</div>
</main>

<div id="details-modal" class="modal">
    <div class="modal-content bg-white dark:bg-background-dark rounded-xl shadow-2xl w-full max-w-5xl flex flex-col lg:flex-row relative">
        <button id="close-modal-button" class="absolute top-4 right-4 z-40 p-2 rounded-full bg-white/50 dark:bg-gray-900/50 text-gray-800 dark:text-white text-xl hover:bg-white dark:hover:bg-gray-700 transition-colors">
            <span class="material-symbols-outlined">close</span>
        </button>
        
        <div class="w-full lg:w-2/3 flex flex-col gap-4 p-4 dark:bg-gray-900">
            <div class="main-media-container rounded-lg shadow-lg bg-black">
                <img id="modal-main-image" src="" alt="Imagem principal do imóvel" class="hidden">
                <iframe id="modal-main-video" src="" frameborder="0" allow="autoplay; encrypted-media; gyroscope;" allowfullscreen class="hidden"></iframe>
            </div>
            <div class="w-full overflow-x-auto">
                <div id="modal-thumbnails" class="flex gap-3 pb-2 px-1 min-w-min"></div>
            </div>
        </div>

        <div class="w-full lg:w-1/3 p-6 space-y-4 overflow-y-auto max-h-[80vh]">
            <h2 id="modal-title" class="font-display text-2xl font-bold text-secondary dark:text-white"></h2>
            <p id="modal-location" class="text-gray-600 dark:text-gray-400 text-sm flex items-center gap-1"><span class="material-symbols-outlined text-lg">location_on</span></p>

            <div class="flex flex-wrap items-center gap-x-4 gap-y-2 text-gray-700 dark:text-gray-300 border-b pb-4">
                <span id="modal-rooms" class="flex items-center gap-1.5"><span class="material-symbols-outlined text-primary">bed</span></span>
                <span id="modal-baths" class="flex items-center gap-1.5"><span class="material-symbols-outlined text-primary">bathtub</span></span>
                <span id="modal-area" class="flex items-center gap-1.5"><span class="material-symbols-outlined text-primary">straighten</span></span>
            </div>

            <div id="modal-price-container">
                <p id="modal-price-label" class="text-lg font-bold text-gray-600 dark:text-gray-300"></p>
                <p id="modal-price" class="text-4xl font-black text-primary dark:text-white mt-1"></p>
                <div id="dates-info" class="text-sm text-red-500 font-medium mt-2"></div>
            </div>
            
            <div id="modal-features-list" class="pt-4 border-t border-gray-200 dark:border-gray-700">
                <h3 class="font-display text-lg font-bold text-secondary dark:text-white mb-2">Características</h3>
                <div id="features-container" class="grid grid-cols-2 gap-2 text-sm text-gray-700 dark:text-gray-300"></div>
            </div>
            
            <form id="modal-rent-form" class="space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700 hidden">
               <p class="text-red-500">Erro: Este imóvel é de aluguel.</p>
            </form>

            <form id="modal-sale-form" class="space-y-4 pt-4 border-t border-gray-200 dark:border-gray-700 hidden">
                <p class="text-sm text-gray-600 dark:text-gray-300">Interessado na compra? Preencha para contato imediato.</p>
                <input type="text" id="sale-guest-name" placeholder="Seu nome" required class="w-full form-input rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white">
                <input type="tel" id="sale-guest-contact" placeholder="Seu WhatsApp" required class="w-full form-input rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white">
                <button type="submit" class="w-full h-12 px-4 bg-secondary text-white font-bold rounded-lg hover:bg-secondary/90 transition-colors">Falar com Corretor (Venda)</button>
            </form>
            
        </div>
    </div>
</div>

<div id="alert-modal" class="modal">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm text-center">
        <h2 id="alert-title" class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">Aviso</h2>
        <p id="alert-message" class="mb-6 text-gray-600 dark:text-gray-300"></p>
        <button id="alert-ok-button" class="px-6 py-2 bg-gray-900 dark:bg-gray-100 dark:text-gray-900 text-white rounded-lg font-semibold">OK</button>
    </div>
</div>

<script>
    const propertyData = [
        {
            id: 'venda_casa_anderson', 
            title: 'Casa 2 Pavimentos em Terreno de 360m²', 
            location: 'Rua Tradição, Palhoça, SC', 
            mode: 'sale', 
            price_sale: 570000, 
            price_daily: 0, 
            rooms: 2, 
            baths: 1, 
            area: 110, 
            description: "Oportunidade! Terreno amplo com 360m². Casa de 2 pavimentos com aproximadamente 110m² de área construída. Escritura em processo de finalização (já está toda paga). Proprietário aceita negociação.",
            images: [
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/497963998_662420570105627_7512747448740221151_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeFXwgg3uAptwuuu0QTS7q_mHJxmn08ngxUcnGafTyeDFXQe_jBHAge4i9cOniw5TpeYQyYo3zG6kJ4GU3dbk4tF&_nc_ohc=x5dOCrpLeJAQ7kNvwHSbQ8n&_nc_oc=Adnpk5ep6cIBLVWlvnUmzka_F1YbsLmW6fyUsaQIuy1eRyqOOpx1VSCZKlKJKgWGZ9g&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_AflCaZtWrlTcI1N8PSTGiEZkOrGu2IF-NVzsE-esRM0h4Q&oe=6938A935",
                "https://scontent.ffln6-1.fna.fbcdn.net/v/t45.5328-4/497960491_1194236651944496_8259249474004207779_n.jpg?_nc_cat=105&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeHkt8KDmxBhAaHmjGFHfjnus52jW-qsm5iznaNb6qybmEGj6v6z7tYkPik9X-JlK6qPja_gFh3XE6D-Lt8npmJy&_nc_ohc=zvjLSNy4dfcQ7kNvwG3sqDS&_nc_oc=AdmjrCdOfvP6Cfv219LPNNy0E8pLFuKU7VZudirB-Rbkrsn0VvBrjPYbWjfgJ7fvbj0&_nc_zt=23&_nc_ht=scontent.ffln6-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_Afk7Fdi27ozsmQ_LWuSpftiT6_tLh6b3ONf75WUggXntXw&oe=6938A833",
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/497705380_592729403832727_4019297351680743759_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeFDP5jwYOfPd472XMGpgkHmcIPnyEbOquRwg-fIRs6q5GbdqGR6oo1PpZRfT9rJa2BvXe3IocX_vTRplh6LluPW&_nc_ohc=9Xeb-zYM5SsQ7kNvwH25Wno&_nc_oc=AdkULmFh9e0bMQ84XPGsl4YzVlToEQEzqIEppHEJZxuBKWOQ1N-mYRRw3FuQWLVm-fM&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_Afk-YOiSLEh3rtjaj_J2mm6Vh0ewN1oAXfiMO6yAKbcdiQ&oe=693894EB",
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/498024056_1246136923524121_6751965252744473713_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeHkWI3PoyuHnljO4LQkR2xAq96VP1Dxnr-r3pU_UPGev7CN8HFEc-dws8IhaEyhXrHDvSUTfU_9Tec2nPrXfdta&_nc_ohc=hjLzskI7B8IQ7kNvwHAiv78&_nc_oc=AdnjJhuktY_SpPqWu37DqxjSN8BCYtX4J-7w0Q08OtAO-A1qKsKltjMJpfT--VGMs7s&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_AfnmQusOm6i8FY9bHEk_jngx6AWPI9OnAsJOyuzBReBhIw&oe=6938BDD9",
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/497188676_4184707735185226_6649462107094042036_n.jpg?_nc_cat=104&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeE5mZdQMqTYJFoSIIQcSUs0TM--tFH5vFpMz760Ufm8WiWqMEwNf6MPdx0CJUMDCxyc44lwpXcWy18wNvAU-ahy&_nc_ohc=2VYp-fZEFzoQ7kNvwH0TNR-&_nc_oc=Adnz4CbZngaJXl9GhtPLh9hz34bKnv7CAtsGD_ty39fwAlxTxc7C4ziA9P8jViKxjuo&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_AfnPvLJJKAKMHPk2QHhN4AREViT9s-_VUO5xkoqP1_ybFA&oe=6938AEB4",
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/498001970_733647485661424_4284682455765201526_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeGrvlAc31V9EgzLeBGe_8ltOIsxZ3_gZ_Q4izFnf-Bn9PhGvO-qqArUkRyZpU9xhQ6XbUCKYNK6LncyKaGPbaPz&_nc_ohc=4YYFJUSYSxcQ7kNvwFiRO7A&_nc_oc=AdmeiajW79IO0UlcRxJ9_ekiIkDcGPDzl2xvaemIOjJ3ZueTBy0LMa8RLP21To4cZnw&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_Afm-sp3Dg0tpZXUOjnKoFkoe0Ciz5z6pz1cWAqmtJGi7XA&oe=69389615",
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/497169541_1211562893957313_6076861429670889750_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeHnzvS6LNX3wRIHDGBpUxCqFN_OD0bzRpgU384PRvNGmKV0lBelonAkAN50ksOtVkjlOLo_ZuovIYwQ-MC6bO4t&_nc_ohc=1twVjIESQVQQ7kNvwG70ov0&_nc_oc=AdnS9WJzcmVdiiDzMXEv-9UjhFWr8D49nC1BQbwbfN3PAzD83HjJ0le_h7J2TPZRKhQ&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_AfmHrCv3YM1MHs_Hz1NJOJup8wPon4aBj91rn15eSIr2oQ&oe=6938AFBF",
                "https://scontent.ffln6-1.fna.fbcdn.net/v/t45.5328-4/497875365_1402755347411115_7123860111216523063_n.jpg?_nc_cat=108&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeGHvwi9woY8rImnBx_nueHTj1n1Sso1V2SPWfVKyjVXZHiT84xSeEvtbZckJBEk2Ckc0JUmtvvRvIFGohIjEZhf&_nc_ohc=hKVpAI9cpo4Q7kNvwH6UH5e&_nc_oc=AdlHeQJYPjWVgnHBYg2KF5U_QOtkLzPY4l6ylg_VzLBBsYYhIw9lTAfcBZF4WwUerrU&_nc_zt=23&_nc_ht=scontent.ffln6-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_Afmw5y5iRZCRtyol9VMbxyk1LhDCxotz0dHugEb5fCoQqw&oe=693890FA",
                "https://scontent.ffln14-1.fna.fbcdn.net/v/t45.5328-4/497705380_1247095560116170_6983271345980698432_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=247b10&_nc_eui2=AeGriLeeU2iqEQ-WVFEQii21i5ZrDQah4wuLlmsNBqHjCwhlfuYJClV-GkZ5Pl2uT-3qHoUxuoGqUV36caI470ws&_nc_ohc=rb3Ef8UA4YEQ7kNvwGPQSmV&_nc_oc=Adm-fzZggXeypy_Yn1CVVqSM3idJaY9gjlciAsCoPH5WeCTUSZkNSTbngmPvfpHD5kQ&_nc_zt=23&_nc_ht=scontent.ffln14-1.fna&_nc_gid=t3K7rxtjxDUgfOAtg3sBFA&oh=00_Afm6MZuwXSEY39TDeXeuVpKTooGe8vnPYalYuhIDQGhTmw&oe=6938907F"
            ],
            features: ['Terreno 360m²', '2 Pavimentos', 'Aceita Negociação', 'Amplo Quintal']
        },
        {
            id: 'venda_luxo',
            title: 'Casa de Luxo c/ Piscina na Praia do Sonho',
            location: 'Praia do Sonho, Palhoça',
            mode: 'sale',
            price_sale: 2500000,
            price_daily: 1800, 
            rooms: 4, baths: 5, area: 220,
            description: "Esta casa redefine o luxo na Praia do Sonho...",
            images: ["https://lh3.googleusercontent.com/aida-public/AB6AXuAQWr66uTJiCxpEEC2kU9O7mC8AFMT39XsOr4c6O5AhVzf6bDTAa5RYR76ksJQ6dRKt6dTVa2nE9HjrecWUDea-PxInZ8eTjGrNoEr84PEyTTIaoLqAnYf-wu8WLlmEUMP9UwlEb1ZiIULHSZavPV2lZQMd4MRtDFCzHZReFEZYVT5fH5UHxMDLxp_4R2XcAnsQGz-VG2G1wqi8oNoUTllBninRP2_nclvzdgUtFdEN5jikOUfuOSNYAmbIACSBOAoubR2JxPdc1w", "https://lh3.googleusercontent.com/aida-public/AB6AXuB7IIfBJrYidgqgCvKOXkQSxvY5fcjTh31ssjQIeVEJvVz_YOqvRC2w5ArigrMKnOEdsV21pcmQLT77hsv0N8S2UJaV_4u3zqEZ1euHHCRsY0RfLg7mVcJjd_FcjQ7np5AocuKmEXbtFIHi_vDWmVdfBFWBmlAotzRebSJWCoUbM0FhsMYIVIC1JyH8NQarRAnJA4tTS-M0CJe77A-Y6xFhQ72JPe9dI_eegc8bYvcT2bOFVOlrPFE3rxhsE4V1SyNwmSJDLRZSVw8"],
            features: ['Piscina Infinita', 'Vista para o Mar', 'Acesso Privativo', 'Espaço Gourmet']
        },
        {
            id: 'venda_loft',
            title: 'Loft Mobiliado para Venda',
            location: 'Praia da Pinheira, Palhoça',
            mode: 'sale',
            price_sale: 480000,
            price_daily: 400, 
            rooms: 1, baths: 1, area: 50,
            description: "Seu refúgio particular...",
            images: ["https://lh3.googleusercontent.com/aida-public/AB6AXuCkJXXkq4PB_UELQ6Or3FsXQolSU713nYjOVcOg7O7h9mZAMFnw9MLSucLOIX9Xl1UuJz-opoW2DynbxlFCA6jAjz8MblLDqWpcQikwcGl9sFEGvP5WD2Hw1xyprv5Tz8LdpqvA2En5LrYvk93gob6XOpTFdQPhXMdP3SVezlZhgwwtp7JeOSObNCiEA7z_kaov6rgyNhTfy-D2BZ8WdodHZYO0Z7uv9V5sts2uiNskYExbKQzjz7xvYbUrgUAK4W9lxIfRcII13nk", "https://lh3.googleusercontent.com/aida-public/AB6AXuAUzRiXmLJ42_onfiXrxsiK4CJfeSm4orWZaDZQB7ugJwzvxvDhdjOSS2utvEHnG_iEy0caSRqUJJKl_zAAdSJddrA2W7H8SjkLC99JEYxcq4QF7EFhIq1Pjj-ggjfTKXgwdxL3rLAHKkt0pib5LWca-PGaRkQ5rP9wpN9hzgdvksbDh8KDVrqet_fPipJeVgm4PmJc4gDAJRn0OKuREijyyxjpLT8mfmoNVzEKvcB5plxnO3JWbjdgh62lYaULmC6C2V6g9jz9cms"],
            features: ['Mobiliado', 'Perto da Praia', 'Segurança', 'Baixo Custo']
        },
        {
            id: 'venda_terreno',
            title: 'Terreno em Condomínio Fechado',
            location: 'Praia da Pinheira, Palhoça',
            mode: 'sale',
            price_sale: 800000, 
            price_daily: 0, 
            rooms: 0, baths: 0, area: 800,
            description: "Terreno amplo de 800m²...",
            images: ["https://lh3.googleusercontent.com/aida-public/AB6AXuDW5KunHpGD5ge6GVTRYoxzdjDjz1xvRwrcehMbWeJP9g6kkgr2sYQm_QAREW24UZcbDvIQ9mqyh_06CPdjH2Ib4TkCnG2pl5Er687kcgZFq9RvXyFh7e4ianyEhBdRVUAi0jMVsn5t3Uw4mqTRhjJVxOp-LtFR2lmDJLvtyV1LbcGsBKpeuC1MVpm4Bn_l2yZp8e9ToslacCFFgT-5xqoB1yNkkamJJ9fd8s01tVorQ2kSc4b_EW0ti1LPAJ-mhqJCzVDkPvye9Fg", "https://lh3.googleusercontent.com/aida-public/AB6AXuC7_IZ_RKfqXMvEmOuWWWYJ7Vvd0peAE7JEBRtc1wQQbdJglfsi3HBJZimbIYbpHXJ_ZPku-aZR8zURLWkNsBNfN8kXuw460EjGB3o1ckkkRy2BFU9KioEGhv8pS9HkEMn8Ry05FtSCtc0JLJdxbS2m6o7fsvKNQppDmEe7dhLUmPH8_8UIyXFSg08zRX2tSR3dB3HRSxokrJo9Sb4GB6r9Ceqx9TD9LCfQvLme1fZiR5Q-OPmwWTo4dc6QUTqwwTsPblGo1BNsbo"],
            features: ['Condomínio Fechado', 'Segurança 24h', 'Pronto para Construir', '800m²']
        }
    ];

    let currentProperty = null;
    let flatpickrInstance = null; 
    const MODAL_WHATSAPP_NUMBER = '5548999998888'; 

    const formatBRL = (number) => number ? number.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }) : 'Consulte';
    const formatTimestamp = (timestamp) => {
        if (timestamp && timestamp.seconds) return new Date(timestamp.seconds * 1000).toLocaleDateString('pt-BR');
        return 'Indefinido';
    };
    const timestampToISODate = (timestamp) => {
        if (timestamp && timestamp.seconds) return new Date(timestamp.seconds * 1000).toISOString().split('T')[0];
        return null;
    };
    const showAlert = (message, title = "Aviso") => {
        const alertModal = document.getElementById('alert-modal');
        if (alertModal) {
            document.getElementById('alert-title').textContent = title; 
            document.getElementById('alert-message').textContent = message; 
            alertModal.classList.add('show'); 
        }
    };

    function changeMainMedia(mediaUrl, isVideo = false) {
        const img = document.getElementById('modal-main-image');
        const iframe = document.getElementById('modal-main-video');
        
        img.classList.add('hidden');
        iframe.classList.add('hidden');
        iframe.src = "";

        if (isVideo) {
            iframe.src = mediaUrl;
            iframe.classList.remove('hidden');
        } else {
            img.src = mediaUrl;
            img.classList.remove('hidden');
        }

        document.querySelectorAll('.gallery-thumbnail').forEach(thumb => {
            thumb.classList.remove('active');
            if (thumb.dataset.mediaUrl === mediaUrl) thumb.classList.add('active');
        });
    }

    function openModal(propertyId) {
        currentProperty = propertyData.find(p => p.id === propertyId);
        const detailsModal = document.getElementById('details-modal');
        if (!currentProperty || !detailsModal) { showAlert('Imóvel não encontrado.', 'Erro'); return; }

        document.getElementById('modal-title').textContent = currentProperty.title;
        document.getElementById('modal-location').innerHTML = `<span class="material-symbols-outlined text-lg">location_on</span>${currentProperty.location}`;
        document.getElementById('modal-rooms').innerHTML = `<span class="material-symbols-outlined text-primary">bed</span>${currentProperty.rooms} Quartos`;
        document.getElementById('modal-baths').innerHTML = `<span class="material-symbols-outlined text-primary">bathtub</span>${currentProperty.baths} Banheiros`;
        document.getElementById('modal-area').innerHTML = `<span class="material-symbols-outlined text-primary">straighten</span>${currentProperty.area} m²`;
        
        document.getElementById('features-container').innerHTML = currentProperty.features.map(f => 
            `<span class="flex items-center gap-1.5"><span class="material-symbols-outlined text-primary">check_circle</span>${f}</span>`
        ).join('');

        const thumbnailsContainer = document.getElementById('modal-thumbnails');
        thumbnailsContainer.innerHTML = '';
        
        const mediaItems = [];
        if (currentProperty.images && Array.isArray(currentProperty.images)) {
            currentProperty.images.forEach(imgUrl => mediaItems.push({ type: 'image', url: imgUrl }));
        }
        if (currentProperty.videoUrl) {
            mediaItems.push({ type: 'video', url: currentProperty.videoUrl });
        }

        mediaItems.forEach((media) => {
            const isVideo = media.type === 'video';
            const thumb = document.createElement('img');
            thumb.className = 'gallery-thumbnail rounded-md border-2 border-transparent hover:border-primary';
            thumb.src = isVideo ? 'https://placehold.co/80x80/003366/FFFFFF?text=VIDEO' : media.url;
            thumb.dataset.mediaUrl = media.url;
            thumb.onclick = () => changeMainMedia(media.url, isVideo);
            thumbnailsContainer.appendChild(thumb);
        });

        if (mediaItems.length > 0) {
            changeMainMedia(mediaItems[0].url, mediaItems[0].type === 'video');
        } else {
             changeMainMedia('https://placehold.co/800x600?text=Sem+Imagem', false);
        }

        const mode = currentProperty.mode || 'sale';
        const rentForm = document.getElementById('modal-rent-form');
        const saleForm = document.getElementById('modal-sale-form');
        const priceLabelEl = document.getElementById('modal-price-label');
        const priceValueEl = document.getElementById('modal-price');
        const datesInfoEl = document.getElementById('dates-info');

        if (mode === 'sale') {
            priceLabelEl.textContent = 'Preço de Venda';
            priceValueEl.textContent = currentProperty.price_sale ? formatBRL(currentProperty.price_sale) : 'Consulte';
            datesInfoEl.classList.add('hidden');
            saleForm.classList.remove('hidden');
            rentForm.classList.add('hidden');
        } else {
            priceLabelEl.textContent = 'Preço Diária';
            priceValueEl.textContent = formatBRL(currentProperty.price_daily);
            datesInfoEl.classList.remove('hidden');
            saleForm.classList.add('hidden');
            rentForm.classList.remove('hidden');
        }
        
        detailsModal.classList.add('show');
    }

    function generatePropertyCards() {
        const grid = document.getElementById('properties-grid');
        if (!grid) return;

        const saleProperties = propertyData.filter(prop => prop.mode === 'sale');

        if (saleProperties.length === 0) {
            grid.innerHTML = '<p class="col-span-3 text-center text-gray-500">Nenhum imóvel à venda encontrado no momento.</p>';
            return;
        }

        grid.innerHTML = saleProperties.map(prop => `
            <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group cursor-pointer" onclick="openModal('${prop.id}')">
                <div class="relative">
                    <img class="h-64 w-full object-cover" data-alt="${prop.title}" src="${prop.images[0] || 'https://placehold.co/800x600/e2e8f0/e2e8f0?text=Imóvel'}"/>
                    <div class="absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/60 to-transparent"></div>
                    <div class="absolute bottom-3 left-3 text-white">
                        <p class="font-display font-bold text-lg drop-shadow-md">${formatBRL(prop.price_sale)}</p>
                        <p class="text-xs">Venda</p>
                    </div>
                </div>
                <div class="p-5">
                    <h3 class="font-display font-bold text-lg text-gray-900 dark:text-white group-hover:text-primary transition-colors">${prop.title}</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-3">${prop.location}</p>
                    <button class="w-full mt-4 py-2.5 px-4 bg-primary dark:bg-primary text-white text-sm font-bold rounded-lg hover:bg-primary/90 transition-colors">Ver Detalhes</button>
                </div>
            </div>
        `).join('');
    }

    function setupSaleFormListener() {
        const saleForm = document.getElementById('modal-sale-form');
        if (!saleForm) return;
        saleForm.addEventListener('submit', async (e) => { 
            e.preventDefault();
            const name = document.getElementById('sale-guest-name').value.trim();
            const contact = document.getElementById('sale-guest-contact').value.trim();
            if (!name || !contact) { showAlert('Preencha os dados.'); return; }
            const message = `Olá! Interesse na compra: "${currentProperty.title}" (ID: ${currentProperty.id}).\nNome: ${name}\nContato: ${contact}`;
            const whatsappUrl = `https://api.whatsapp.com/send?phone=${MODAL_WHATSAPP_NUMBER}&text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            document.getElementById('details-modal').classList.remove('show');
        });
    }

    function initializePage() {
        const closeBtn = document.getElementById('close-modal-button');
        if (closeBtn) {
             closeBtn.addEventListener('click', () => {
                document.getElementById('details-modal').classList.remove('show');
                const iframe = document.getElementById('modal-main-video');
                if(iframe) iframe.src = "";
            });
        }
        const alertOkBtn = document.getElementById('alert-ok-button');
        if (alertOkBtn) alertOkBtn.addEventListener('click', () => document.getElementById('alert-modal').classList.remove('show'));

        setupSaleFormListener();
        generatePropertyCards();
    }
    document.addEventListener('DOMContentLoaded', initializePage);
</script>

<footer class="bg-gray-900 dark:bg-black text-gray-300">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center">
        <p>© 2024 Curtindo SC. Todos os direitos reservados.</p>
    </div>
</footer>
</div>
</div>
</body></html>
